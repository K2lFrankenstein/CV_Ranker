{% load static %}
<!DOCTYPE  html>
<html lang="en">


<head>
  <!-- Required meta tags -->

  <!-- <script src="https://www.gstatic.com/firebasejs/9.4.0/firebase-app.js"  defer type="module"></script> -->
  <!-- <script src="https://www.gstatic.com/firebasejs/9.4.0/firebase-auth.js" defer type="module"></script> -->

  <script src="{% static 'js/main.js' %}"  type="module" defer ></script>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Sign-In with google Credentialss</title>
  <!-- plugins:css -->
  <link rel="stylesheet" href="{% static 'vendors/feather/feather.css' %}">
  <link rel="stylesheet" href="{% static 'vendors/ti-icons/css/themify-icons.css' %}">
  <link rel="stylesheet" href="{% static 'vendors/css/vendor.bundle.base.css' %}">
  <!-- <link rel="stylesheet" href="{% static 'vendors/mdi/css/materialdesignicons.min.css' %}"> -->
  
  
  
  <link rel="shortcut icon" href="{% static 'images/logo-mini.svg' %}" />
  


  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css">

  <link rel="stylesheet" href="{% static 'css/style.css' %}">
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" />
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <!-- endinject -->

  <style>
    .eyetoggle {
      margin-left: -2px;
      margin-top: -15px;
    }
  
    .formerror {
      color: red;
    }
   
  </style>

</head>

<body>
  <div class="container-scroller">
    <div class="container-fluid page-body-wrapper full-page-wrapper">
      <div class="content-wrapper d-flex align-items-center auth px-0">
        <div class="row w-100 mx-0">
          <div class="col-lg-4 mx-auto">
            <div class="auth-form-light text-left py-5 px-4 px-sm-5">
              <div class="brand-logo">
                <center>
                <img src="{% static 'images/logo-mini.svg' %}" alt="logo">
                </center>
              </div>

              <br>
              <h4>
                
                <span class="text-danger" id ="text-danger" ></span>
                
                Hello! let's get started
                 
              </h4>
              <h6 class="font-weight-light">Sign in with Google Credentials.</h6>
              <form class="pt-3" onload="clean()"  id="loginForm" name="myForm"  onsubmit="validateForm()"  method="POST" action="{% url 'Lin_Lou:login' %}">
                {% csrf_token %}
                
              </form>


              <br> 
              <hr>
              <br>
              <center>
              <p> Log in with Desktop account </p>
              <br>
              <button id="googleSignIn"  > <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" alt="Google Logo" width="50" height="50"></button>




            </div>
          </div>
        </div>
      </div>
      <!-- content-wrapper ends -->
    </div>
    <!-- page-body-wrapper ends -->
  </div>




  <script src="{% static 'vendors/js/vendor.bundle.base.js' %}"></script>
  <script src="{% static 'js/off-canvas.js' %}"></script>
  <script src="{% static 'js/hoverable-collapse.js' %}"></script>
  <script src="{% static 'js/template.js' %}"></script>
  <script src="{% static 'js/settings.js' %}"></script>
  <script src="{% static 'js/todolist.js' %}"></script>
  

  <script type="text/javascript">
    function clean() {

      document.getElementById("username").value = "";

      document.getElementById("password").value = "";

    }

  </script>



  <script>
    const togglePassword = document.querySelector('#togglePassword');
    const psw = document.querySelector('#password');

    togglePassword.addEventListener('click', function (e) {
      // toggle the type attribute
      const type = psw.getAttribute('type') === 'password' ? 'text' : 'password';
      psw.setAttribute('type', type);
      // toggle the eye slash icon
      this.classList.toggle('fa-eye-slash');
    });

  </script>









  <script>
    function clearErrors() {

      errors = document.getElementsByClassName('formerror');
      for (let item of errors) {
        item.innerHTML = "";
      }


    }
    function seterror(id, error) {
      //sets error inside tag of id 
      element = document.getElementById(id);
      element.getElementsByClassName('formerror')[0].innerHTML = error;

    }
    function validateForm() {
      var returnval = true;
      var passwordregex = /^(.{0,7}|[^0-9]*|[^A-Z]*|[a-zA-Z0-9]*)$/;

      var username = document.forms['myForm']["username"].value;
      if (username.length == "") {
        seterror("user1", "This field is required");
        returnval = false;
      }

      var password = document.forms['myForm']["password"].value;
      if (password.length == "") {


        seterror("password1", " This field is required");
        returnval = false;
      }

      return returnval;
    }

  </script>

  <script>

    function ValidatePassword() {


      var password = document.forms['myForm']["password"].value;
      if (password.length == "") {


        seterror("password1", " This field is required");
        returnval = false;
      }
      else {

        errors = document.getElementById("passw1");

        errors.innerHTML = "";

      }

      return returnval;
    }

  </script>


  <script>

    function ValidateUser() {


      var username = document.forms['myForm']["username"].value;
      if (username.length == "") {
        seterror("user1", "This field is required");
        returnval = false;
      }
      else {

        errors = document.getElementById("Username1");

        errors.innerHTML = "";

      }


      return returnval;
    }





  </script> 

  <script>
    $(".pop").popover({
      trigger: "manual",
      html: true,
      animation: false
    })
      .on("mouseenter", function () {
        var _this = this;
        $(this).popover("show");
        $(".popover").on("mouseleave", function () {
          $(_this).popover('hide');
        });
      }).on("mouseleave", function () {
        var _this = this;
        setTimeout(function () {
          if (!$(".popover:hover").length) {
            $(_this).popover("hide");
          }
        }, 200);
      });
  </script>


  <script>
    var numRegex = /[!@#$%^&*()+\-=\[\]{};':"\\|,.<>\/?]+/;

    loginForm.addEventListener('input', () => {
      if (!username.value.match(numRegex) && password.value.length > 7 && username.value.length > 0) {

        subm.removeAttribute('disabled');

      }
      else {

        subm.setAttribute('disabled', 'disabled');

      }


    });


  </script>
</body>




</html>
